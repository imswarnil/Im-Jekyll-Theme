

// _scss/theme/_variables.scss

//-------------------------------------------------------------------
// 0. FONT IMPORTS (if you self-host Geist or other specific fonts)
//-------------------------------------------------------------------
// @import url('path/to/your/geist-font.css'); // Or however you include Geist

//-------------------------------------------------------------------
// 1. PRIMARY COLORS & TEXT (Directly from your CSS vars)
// We will use these static values to set Bulma's Sass variables.
// The CSS custom properties themselves will be defined in _overrides.scss
//-------------------------------------------------------------------

// Core Colors
$static-color-contrast: #000;
$static-color-background: #fff;
$static-color-background-100: #f3f3f3;
$static-color-background-200: #ededed;
$static-color-background-300: #dadada;
$static-color-foreground: #4d4d4d;
$static-color-secondary: #757575;
$static-color-mute: #b2b2b2;
$static-color-border: rgb(128 128 128 / 20%); // --color-border
$static-color-success: #348f3f;
$static-color-error: #c34d4d;

// Accent (Your existing $primary)
$static-ghost-accent-color: #e53935; // Your $primary
// Text color on top of the accent color
$static-color-accent-foreground: #fff; // Assuming white text on your #e53935

//-------------------------------------------------------------------
// 2. TYPOGRAPHY (Directly from your CSS vars)
//-------------------------------------------------------------------
// Font Families
// --gh-font-heading and --gh-font-body are dynamic.
// We use 'Geist' as the primary, then your 'Outfit' as fallback.
$font-family-main: "Geist", "Outfit", Arial, sans-serif;
$font-family-headings-override: "Geist", "Outfit", Arial, sans-serif; // For .title
$font-family-buttons-override: "Geist", "Outfit", Arial, sans-serif; // For .button
$font-family-mono-override: "JetBrains Mono", "Roboto Mono", monospace; // If you have a specific mono

// Font Weights
$weight-light: 300;
$weight-normal: 400;
$weight-medium: 500;
$weight-semibold: 600;
$weight-bold: 700;

// Font Sizes (Mapping to Bulma's scale, aiming for theme's feel)
$size-1: 2.25rem;   // Large titles
$size-2: 1.75rem;   // Equivalent to theme's h1
$size-3: 1.375rem;  // Equivalent to theme's h2 (1.375rem is also 22px)
$size-4: 1.125rem;  // --font-large (18px)
$size-5: 1rem;      // Base size (16px)
$size-6: 0.875rem;  // --font-small (14px)
$size-7: 0.75rem;   // --font-x-small (12px)

//-------------------------------------------------------------------
// 3. BULMA GENERAL VARIABLE OVERRIDES
// Set Bulma's core Sass variables using the static values above.
//-------------------------------------------------------------------
$family-sans-serif: $font-family-main !default; // Allow override from user
$family-monospace: $font-family-mono-override !default;
$family-primary: $family-sans-serif;
$family-secondary: $font-family-headings-override; // For titles

$primary: $static-ghost-accent-color; // Bulma's main accent
$link: $primary;

$text: $static-color-foreground;
$text-light: $static-color-secondary;
$text-strong: $static-color-contrast;

$background: $static-color-background;

$border: $static-color-border; // Main border color
$border-light: lighten($static-color-border, 15%); // Lighter version
$border-hover: $primary; // Border hover for interactive elements

// Grey scale mapping for Bulma
$grey-darker: darken($static-color-mute, 25%); // ~#8e8e8e
$grey-dark: darken($static-color-mute, 10%);   // ~#a0a0a0
$grey: $static-color-mute;                     // #b2b2b2
$grey-light: $static-color-background-300;     // #dadada
$grey-lighter: $static-color-background-200;   // #ededed
// $grey-lightest: $static-color-background-100; // #f3f3f3 (Bulma doesn't have a direct equivalent, used for backgrounds)

$info: hsl(204, 71%, 53%); // Keep Bulma's default or define your static info
$success: $static-color-success;
$warning: hsl(48, 100%, 67%); // Keep Bulma's default or define your static warning
$danger: $static-color-error;

// Body
$body-background-color: $background;
$body-color: $text;
$body-family: $family-primary;
$body-size: $size-5; // 1rem (16px) base
$body-weight: $weight-normal;
$body-line-height: 1.6; // Good for readability

// Links
$link-color: $link;
$link-hover: darken($link, 10%); // Standard Bulma hover
$link-decoration: underline;
$link-hover-decoration: none; // Remove underline on hover as per many modern themes

//-------------------------------------------------------------------
// 4. BULMA COMPONENT VARIABLE OVERRIDES
//-------------------------------------------------------------------

// Radii - YOU WANT NO ROUNDNESS FOR CARDS/BOXES
$radius-small: 0px; // --radius-1 (but for sharp edges)
$radius: 0px;       // --radius-2 (main radius, set to 0)
$radius-large: 0px; // --radius-3 (set to 0)
$radius-rounded: 9999px; // For things that *should* be fully rounded like some tags

// Buttons (match theme's button custom properties)
$button-color: $static-color-accent-foreground;
$button-background-color: $primary; // Uses $static-ghost-accent-color
$button-border-color: transparent; // Theme buttons seem borderless
$button-border-width: 0px;

$button-hover-color: $static-color-background;        // --button-hover--color
$button-hover-background-color: $static-color-contrast; // --button-hover--background-color
$button-hover-border-color: transparent;

$button-focus-color: $button-hover-color;
$button-focus-background-color: $button-hover-background-color;
$button-focus-border-color: $primary; // Focus ring with primary color
$button-focus-box-shadow-size: 0 0 0 0.125em;
$button-focus-box-shadow-color: rgba($primary, 0.25);

$button-active-color: $button-hover-color;
$button-active-background-color: darken($button-hover-background-color, 5%);
$button-active-border-color: transparent;

// Target specific border-radius for buttons from your theme vars: calc(var(--button--min-height) * 0.5)
// Assuming button min-height is 2.5rem (40px), radius is 20px.
$button-radius: 20px; // For fully rounded button ends
$control-radius: $button-radius; // Make inputs, etc., match button radius

$button-family: $font-family-buttons-override;
$button-weight: $weight-medium; // --font-weight-medium
$button-padding-vertical: 0.5rem;   // --spacing-4
$button-padding-horizontal: 1.25rem; // --spacing-8
$button-line-height: 1.5;           // --button--line-height

// Card - NO SHADOW, LIGHT BORDER, NO RADIUS
$card-background-color: $static-color-background;
$card-color: $static-color-foreground;
$card-header-color: $static-color-contrast;
$card-radius: 0px; // Important: No border radius
$card-shadow: none;  // Important: No box shadow
// Add a light border to the card itself
$card-border-color: $static-color-border; // Using your --color-border
$card-border-width: 1px;

$card-header-padding: var(--spacing-6) var(--spacing-7); // Use spacing vars directly in overrides
$card-content-padding: var(--spacing-7);
$card-footer-border-top: 1px solid $static-color-border; // Ensure footer has top border

// Box - NO SHADOW, LIGHT BORDER, NO RADIUS
$box-background-color: $static-color-background;
$box-color: $static-color-foreground;
$box-radius: 0px;    // Important: No border radius
$box-shadow: none;   // Important: No box shadow
$box-padding: var(--spacing-8); // Use spacing var directly in overrides
// Add a light border to the box itself
$box-border-color: $static-color-border;
$box-border-width: 1px;

// Navbar
$navbar-background-color: rgba($static-color-background, 0.95); // Slightly more opaque for readability
$navbar-height: 58px; // --navbar--min-height
$navbar-item-color: $static-color-foreground; // Or contrast
$navbar-item-hover-color: $primary;
$navbar-item-hover-background-color: $static-color-background-100; // --color-background-100
$navbar-item-active-color: $primary;
$navbar-item-active-background-color: $static-color-background-100;
$navbar-padding-vertical: 0.5rem;   // Approx --spacing-4
$navbar-padding-horizontal: 1rem; // Approx --spacing-7 / --layout--padding

// Input, Textarea, Select
$input-color: $static-color-contrast; // Text inside input
$input-background-color: $static-color-background-100;
$input-border-color: $static-color-border;
$input-hover-border-color: darken($static-color-border, 10%);
$input-focus-border-color: $primary;
$input-placeholder-color: $static-color-mute;
$input-radius: $radius-small; // Use the (now 0px) small radius, or define a specific input radius e.g. 4px
$input-shadow: none;
$input-padding: var(--spacing-4) var(--spacing-6); // Use spacing vars

// Titles and Subtitles (Bulma classes)
$title-color: $static-color-contrast;
$title-family: $font-family-headings-override;
$title-weight: $weight-semibold;
$title-line-height: 1.1;
$subtitle-color: $static-color-secondary;
$subtitle-family: $font-family-headings-override; // Often same as titles
$subtitle-weight: $weight-normal;
$subtitle-line-height: 1.3; // More space for subtitles

// Generic
$hr-background-color: $static-color-border;
$hr-height: 1px;
$hr-margin: var(--vertical-rhythm) 0; // Use vertical rhythm

// Container (using theme's fixed widths)
$container-max-width: 700px; // --container--width
$widescreen-enabled: true;
$fullhd-enabled: true;
$widescreen: 1100px; // --container-wide--width
$fullhd: 1300px;   // --featured-image--max-width (if used as a general fullhd breakpoint)

// Make sure all necessary Bulma variables are set for it to compile
$body-rendering: optimizeLegibility !default;
$control-border-width: 1px !default;
$control-height: 2.5em !default; // Bulma's default, used for input/button height calculations if not overridden by padding
$control-line-height: 1.5 !default;
$variable-columns: true !default; // Enable responsive column gaps
@import "../node_modules/bulma/sass/index";
// _scss/theme/_overrides.scss

//-------------------------------------------------------------------
// 1. DEFINE CSS CUSTOM PROPERTIES (LIGHT MODE - DEFAULT)
// These are derived from the Bulma Sass variables (which were set from your static values)
// This makes them available for any custom CSS or JS.
//-------------------------------------------------------------------
:root {
  // Dynamic Ghost variables (provide fallbacks)
  --gh-font-heading: #{$family-secondary}; // Use the heading font set for Bulma
  --gh-font-body: #{$family-primary};   // Use the body font set for Bulma

  // Accent Color
  --ghost-accent-color: #{$primary};
  --color-accent-foreground: #{if(lightness($primary) > 50, $static-color-contrast, $static-color-background)};

  // Core Colors
  --color-contrast: #{$text-strong}; // Maps to $static-color-contrast via $text-strong
  --color-background: #{$background};
  --color-background-100: #{$grey-lightest}; // Maps to $static-color-background-100
  --color-background-200: #{$grey-lighter};
  --color-background-300: #{$grey-light};
  --color-foreground: #{$text};
  --color-secondary: #{$text-light};
  --color-mute: #{$grey};
  --color-border: #{$border};
  --color-success: #{$success};
  --color-error: #{$danger};
  --color-overlay: rgba(5, 5, 5, 0.7); // From your original list

  // Font Families (already set for Bulma via Sass vars)
  --font-family-headings: #{$family-secondary};
  --font-family-body: #{$family-primary};
  --font-family-button: #{$button-family};

  // Font Sizes (map to Bulma's $size variables)
  --font-x-small: #{$size-7};
  --font-small: #{$size-6};
  --font-base: #{$body-size};
  --font-large: #{$size-4};

  // Font Weights
  --font-weight-light: #{$weight-light};
  --font-weight-regular: #{$weight-normal};
  --font-weight-medium: #{$weight-medium};
  --font-weight-semibold: #{$weight-semibold};
  --font-weight-bold: #{$weight-bold};

  // Spacings (from your original list)
  --spacing-1: 0.125rem; --spacing-2: 0.25rem; --spacing-3: 0.375rem;
  --spacing-4: 0.5rem;   --spacing-5: 0.625rem;--spacing-6: 0.75rem;
  --spacing-7: 1rem;     --spacing-8: 1.25rem; --spacing-9: 1.875rem;
  --spacing-10: 5rem;    --spacing-11: 6.25rem;
  --vertical-rhythm: 1.5rem;

  // Border Radius (using Bulma's $radius variables, which are now mostly 0px)
  --radius-1: #{$radius-small}; // 0px
  --radius-2: #{$radius};       // 0px
  --radius-3: #{$radius-large}; // 0px
  --radius-4: 0px; // For larger elements that should also be sharp
  --radius-5: 0px;
  // --radius-6: clamp(0px, 1.25vw, 0px); // Example if you still want some fluid but sharp
  --radius-6: 0px;

  // Layout
  // --layout--padding: clamp(1rem, 2.5vw, 1.5rem); // Example clamp
  --layout--padding: 1.5rem; // Fixed for simplicity based on your theme's middle value

  // Navbar
  --navbar--min-height: #{$navbar-height};

  // Button theme vars for custom elements (Bulma buttons are styled by Sass vars)
  --button--padding-v: var(--spacing-4);
  --button--padding-h: var(--spacing-8);
  --button--min-height: 2.5rem;
  --button--font-size: var(--font-small);
  --button--font-weight: var(--font-weight-medium); // Bulma buttons get $button-weight
  --button--line-height: 1.5;
  --button--border-radius: #{$button-radius}; // Use Bulma's button radius
  --button--color: var(--color-accent-foreground);
  --button--background-color: var(--ghost-accent-color);
  --button-hover--color: var(--color-background);
  --button-hover--background-color: var(--color-contrast);
  --button-hover--opacity: 0.8;

  // Container Widths
  --container--width: #{$container-max-width};
  --container-wide--width: #{$widescreen};

  // Shadow - none for cards/boxes, but define for other potential uses
  --shadow: 0 20px 60px -10px rgba(176, 169, 169, 0.24),
            0 4px 20px -8px rgba(0, 0, 0, 0.24%); // Original shadow

  color-scheme: light;
}

//-------------------------------------------------------------------
// 2. GLOBAL HTML & BODY STYLES (Using CSS Custom Properties)
//-------------------------------------------------------------------
html {
  background-color: var(--color-background);
  font-size: $body-size;
}

body {
  font-family: var(--font-family-body);
  font-weight: var(--font-weight-regular);
  color: var(--color-foreground);
  background-color: var(--color-background);
  line-height: $body-line-height;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

//-------------------------------------------------------------------
// 3. TYPOGRAPHY OVERRIDES (Mainly using CSS Custom Properties)
//-------------------------------------------------------------------
.title, .subtitle {
  font-family: var(--font-family-headings);
  color: var(--color-contrast);
}
.title {
  font-weight: var(--font-weight-semibold);
  // Bulma's is-N classes will use $size-N variables for font-size
}
.subtitle {
  color: var(--color-secondary);
  font-weight: var(--font-weight-regular);
}

a {
  color: var(--ghost-accent-color);
  text-decoration: underline;
  text-decoration-color: currentColor;
  text-decoration-thickness: 0.075em;
  text-underline-offset: 0.15em;
  transition: color 0.1s ease, text-decoration-color 0.1s ease;
  &:hover {
    color: var(--ghost-accent-color);
    text-decoration-color: transparent;
  }
}

.content blockquote, blockquote {
  border-left: 2px solid var(--ghost-accent-color);
  color: var(--color-contrast);
  font-weight: var(--font-weight-medium);
  padding: var(--spacing-4) var(--spacing-7);
  background-color: transparent;
  margin-left: 0; margin-right: 0;
}

.content pre, pre {
  background-color: var(--color-background-100);
  border-radius: var(--radius-1); // Small radius for code blocks if desired, or 0
  padding: var(--spacing-6) var(--spacing-7);
  // No shadow for pre, just border
  border: 1px solid var(--color-border);
  color: var(--color-contrast);
  font-size: var(--font-small);
  code {
    background-color: transparent !important;
    color: inherit !important;
    padding: 0 !important;
    font-size: inherit !important;
    box-shadow: none !important;
    border-radius: 0 !important;
  }
}
.content :not(pre) > code, :not(pre) > code {
  background-color: var(--color-background-100);
  border-radius: var(--radius-1); // Or 0px
  padding: var(--spacing-2) var(--spacing-3);
  border: 1px solid var(--color-border);
  color: var(--color-contrast);
  font-size: 0.875em;
}

//-------------------------------------------------------------------
// 4. BULMA COMPONENT SPECIFIC STYLING
//-------------------------------------------------------------------

// Buttons will largely take style from Bulma Sass variables.
// Add any fine-tuning here if needed.
.button {
  font-family: var(--font-family-button);
  // min-height and padding are now influenced by Bulma vars
  // Border radius is $button-radius (20px)
  // For is-primary, colors are set by $button-color, $button-background-color etc.
  &.is-light {
    background-color: var(--color-background-100);
    color: var(--color-contrast);
    border: 1px solid var(--color-border); // Light buttons might have a border
    &:hover {
      background-color: var(--color-background-200);
      border-color: darken($static-border, 10%);
    }
  }
}

// Cards and Boxes: NO SHADOW, LIGHT BORDER, NO RADIUS
// This is primarily handled by the Bulma Sass variables.
// We can add explicit overrides here if Bulma's generated CSS isn't quite right.
.card, .box {
  border-radius: 0 !important; // Enforce no radius
  box-shadow: none !important;   // Enforce no shadow
  border: 1px solid var(--color-border) !important; // Enforce light border
  background-color: var(--color-background); // Ensure background color from var
}

.card {
  .card-header {
    background-color: transparent;
    box-shadow: none;
    border-bottom: 1px solid var(--color-border);
    border-radius: 0 !important; // Ensure header part is also sharp
    padding: var(--spacing-6) var(--spacing-7);
    .card-header-title {
      color: var(--color-contrast);
      font-family: var(--font-family-headings);
      font-weight: var(--font-weight-semibold);
      padding: 0;
    }
  }
  .card-image img {
    border-radius: 0 !important; // Sharp image corners
  }
  .card-content {
    padding: var(--spacing-7); // Theme padding
  }
  .card-footer {
    border-top: 1px solid var(--color-border);
    background-color: transparent;
    padding: 0;
    .card-footer-item {
      padding: var(--spacing-6) var(--spacing-7);
      color: var(--ghost-accent-color);
      border-right: 1px solid var(--color-border); // Separator for footer items
      &:last-child {
        border-right: none;
      }
      &:hover {
        color: darken($static-primary, 10%);
        background-color: var(--color-background-100);
      }
    }
  }
}

.box {
  padding: var(--spacing-8); // Theme padding
}

.navbar {
  min-height: var(--navbar--min-height);
  background-color: transparent;
  box-shadow: none;
  border-bottom: 1px solid var(--color-border); // Navbar might have bottom border

  &:before { // Simpler background without blur
    content: "";
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background-color: var(--color-background);
    opacity: 0.98; // High opacity, almost solid
    z-index: -1;
  }
  // Navbar items already styled by Bulma variables + general 'a' tag styling
}

// Forms
.input, .textarea, .select select {
  background-color: var(--color-background-100);
  border: 1px solid var(--color-border);
  border-radius: $radius-small; // Use the (now 0px) radius or set a specific e.g. 4px
  color: var(--color-contrast); // Input text color
  min-height: var(--button--min-height); // Align height with buttons
  padding: var(--spacing-4) var(--spacing-6);
  &:hover {
    border-color: darken($static-border, 15%);
  }
  &:focus, &.is-focused, &:active, &.is-active {
    border-color: var(--ghost-accent-color);
    box-shadow: 0 0 0 0.125em rgba($static-primary, 0.25);
  }
  &::placeholder { color: var(--color-mute); }
}
label.label {
  color: var(--color-contrast);
  font-weight: var(--font-weight-semibold);
  margin-bottom: var(--spacing-4);
}


// Pagination
.pagination {
  .pagination-link, .pagination-previous, .pagination-next {
    border: 1px solid var(--color-border);
    color: var(--color-foreground);
    font-weight: var(--font-weight-medium);
    min-width: var(--button--min-height); // Match button height
    height: var(--button--min-height);
    padding: 0 var(--spacing-6); // Horizontal padding
    border-radius: $radius-small; // Sharp or slightly rounded like inputs
    background-color: var(--color-background);
    &:hover {
      border-color: var(--ghost-accent-color);
      color: var(--ghost-accent-color);
      background-color: var(--color-background-100);
    }
    &.is-current {
      background-color: var(--ghost-accent-color);
      border-color: var(--ghost-accent-color);
      color: var(--color-accent-foreground);
    }
  }
}

// Your Archive Page Specific Styles (should mostly inherit from .card and .box now)
.archive-column-cards {
  .post-item-box {
    // border-radius, box-shadow, border are handled by general .box/.card overrides
    .post-media-container {
      .image img, .video-thumbnail-container-column img {
        border-radius: 0 !important; // Ensure top corners are not rounded if card is not
      }
    }
    .content {
      padding: var(--spacing-7); // Keep consistent padding
      .level-item .tag {
        font-size: var(--font-x-small);
        font-weight: var(--font-weight-medium);
        border-radius: $radius-rounded; // Tags are usually rounded
      }
      .title.is-5 {
        font-family: var(--font-family-headings); // Ensure heading font
        font-weight: var(--font-weight-semibold);
        color: var(--color-contrast);
      }
      .message.is-light { // For TLDR
         background-color: var(--color-background-100);
         border-radius: $radius-small; // Or 0px
         border-left: 3px solid; // Accent border for messages
         &.is-warning { border-left-color: $static-warning; }
         &.is-info { border-left-color: $static-info; }
         .message-body {
            padding: var(--spacing-4) var(--spacing-6);
            color: var(--color-foreground);
         }
      }
    }
    .post-item-footer {
      padding: var(--spacing-6);
      border-top: 1px solid var(--color-border);
       .tags .tag.is-light { // Footer tags
        background-color: var(--color-background-100);
        color: var(--color-secondary);
        border-radius: $radius-rounded;
      }
      .buttons .button { // Demo/Code buttons
        // Default button styling will apply.
        // If you need them to be specifically "light" looking:
        &.is-light {
          background-color: var(--color-background-100);
          color: var(--color-contrast);
          border: 1px solid var(--color-border);
          border-radius: $button-radius; // Keep button radius
          &:hover {
            background-color: var(--color-background-200);
          }
        }
      }
    }
  }
  // Ad/Newsletter placeholders
  .ad-placeholder-box, .newsletter-box-column {
    // Will inherit .box styling (no radius, no shadow, light border)
  }
  .newsletter-box-column {
    background-color: var(--color-background-100); // Light background for newsletter
  }
}