// _variables.scss (or directly in your main scss file before Bulma import)

// ==== 1. CUSTOM COLOR PALETTE (Derived from UI with 'im-' prefix) ====
$im-purple-primary: #7F56D9;
$im-blue-active-nav: #4A47C2;
$im-text-dark-headings: #101828;
$im-logo-text-main: #301E50;
$im-text-body-main: #4D3D6F;
$im-text-grey-subtle: #667085;
$im-background-page: #FDFCFE;    // Overall page background (very light lavender)
$im-border-ui: #EDE9F2;
$im-divider-ui: #EAECF0;
$im-button-bg-light: #F0EEF3;
$im-white: #FFFFFF;
$im-black: #0A0A0A;
$im-grid-line-color: lighten($im-border-ui, 7%); // Very light for subtle grid lines

// ==== 2. BULMA GLOBAL VARIABLE OVERRIDES ====

// --- Typography ---
$family-sans-serif: "Inter", "Outfit", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
$family-primary: $family-sans-serif;
$body-size: 1rem; // 16px
$body-line-height: 1.7; // Increased for readability as per UI
$body-color: $im-text-body-main;
$text: $im-text-body-main;
$text-light: $im-text-grey-subtle;
$text-strong: $im-text-dark-headings;
$weight-light: 300;
$weight-normal: 400;
$weight-medium: 500;
$weight-semibold: 600;
$weight-bold: 700;
$title-color: $im-text-dark-headings;
$title-weight: $weight-bold;
$title-line-height: 1.2;
$subtitle-color: $im-text-grey-subtle;
$subtitle-weight: $weight-normal;
$size-1: 3rem; // Adjust for "I'm Enji Kusnadi" - might need custom CSS for exact size
$size-3: 1.875rem; // Approx 30px for "Eye Catching..."
$size-4: 1.25rem; // ~20px
$size-5: 1.125rem; // ~18px
$size-6: 1rem;    // ~16px
$size-7: 0.875rem; // ~14px

// --- Colors ---
$primary: $im-purple-primary;
$link: $im-logo-text-main;
$link-hover: $primary;
$info: $im-blue-active-nav; // Use the active blue for info context if desired
$success: #059669; // A more modern green
$warning: #FBBF24; // A modern yellow/amber
$danger: #EF4444;  // A modern red
$white: $im-white;
$black: $im-black;
$scheme-main: $white; // Card backgrounds, etc.
$scheme-main-bis: darken($white, 2%);
$scheme-main-ter: darken($white, 4%);
$scheme-invert: $white; // Text on $primary buttons should be white based on UI
$text-invert: $white;   // General inverted text color

// Backgrounds and Borders
$body-background-color: $im-background-page;
$background: $im-background-page;
$border: $im-border-ui;
$border-light: lighten($im-border-ui, 5%);
$border-hover: $primary;

// --- Layout & Spacing ---
$radius-small: 6px;
$radius: 8px;
$radius-large: 12px;
$control-radius: $radius;
$gap: 32px;
$section-padding: 6rem 1.5rem; // Generous padding
$section-padding-medium: $section-padding;
$section-padding-large: $section-padding;

// ==== 3. BULMA COMPONENT VARIABLE OVERRIDES ====

// --- Navbar ---
$navbar-background-color: $im-background-page;
$navbar-item-color: $im-text-body-main;
$navbar-item-hover-color: $primary;
$navbar-item-hover-background-color:transparent;
$navbar-item-active-color: $white;
$navbar-item-active-background-color: $im-blue-active-nav; // For "Work" item
$navbar-dropdown-background-color: $white;
$navbar-dropdown-item-hover-background-color: $im-background-page;
$navbar-dropdown-item-hover-color: $primary;
$navbar-dropdown-border-top: 2px solid $primary;
$navbar-dropdown-arrow: $primary;
$navbar-height: 68px; // Approx from UI
$navbar-padding-vertical: 0rem;
$navbar-padding-horizontal: 1rem; // Container will handle main padding
$navbar-item-img-max-height: 28px;
$navbar-box-shadow-size: 0 1px 3px;
$navbar-box-shadow-color: rgba($im-black, 0.05); // Softer navbar shadow

// --- Buttons ---
$button-family: $family-primary;
$button-color: $white;
$button-background-color: $primary;
$button-border-color: $primary;
$button-border-width: 1px;
$button-padding-vertical: 0.75em; // UI "Get in Touch" button is quite padded
$button-padding-horizontal: 1.75em;
$button-hover-background-color: darken($primary, 5%);
$button-hover-border-color: darken($primary, 5%);
$button-radius: $radius;

$button-light-background-color: $im-button-bg-light;
$button-light-color: $im-logo-text-main;
$button-light-border-color: $im-button-bg-light;
$button-light-hover-background-color: darken($im-button-bg-light, 4%);
$button-light-hover-color: darken($im-logo-text-main, 5%);

// --- Card --- (Used for the feature cards, documentation card in UI)
$card-background-color: $white;
$card-color: $text;
$card-header-color: $text-strong;
$card-header-weight: $weight-semibold;
$card-shadow: 0 8px 16px rgba($im-logo-text-main, 0.04), 0 2px 6px rgba($im-logo-text-main, 0.03); // Softer, more layered shadow like UI
$card-radius: $radius-large; // More rounded cards
$card-content-padding: 1.5rem; // More padding in cards

// --- Tags --- (Used for "Docs", "Support" in UI)
$tag-background-color: $im-button-bg-light;
$tag-color: $im-text-body-main;
$tag-radius: $radius-small; // Slightly rounded
// For colored tags, rely on .is-primary.is-light etc.
// Customize light variants if needed:
$primary-light: lighten($primary, 38%); // Making primary-light very light
$primary-invert: $primary; // Text color on primary-light tags
$info-light: lighten($info, 35%);
$info-invert: $info;


// ==== 4. IMPORT BULMA ====
@import "../node_modules/bulma/sass/index"; // Adjust path

// ==== 5. ADDITIONAL GLOBAL STYLES / MINOR OVERRIDES (AFTER BULMA IMPORT) ====

html {
    background-color: $body-background-color;
    scroll-behavior: smooth;
}

body {
    font-family: $family-primary;
    color: $body-color;
    font-size: $body-size;
    line-height: $body-line-height;
    font-weight: $weight-normal; // Default body font weight is normal
    overflow-x: hidden; // Prevent horizontal scroll from any pseudo-elements
    position: relative; // Needed for pseudo-elements to be fixed relative to body
}

// Fading Grid Lines Effect
body::before { // The grid itself
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-image: radial-gradient($im-grid-line-color 0.5px, transparent 0.5px);
    background-size: 28px 28px; // Adjust size of grid as per UI
    z-index: -2; // Deepest background
    opacity: 0.6; // Overall grid subtlety
}

body::after { // The fading overlay
    content: "";
    position: fixed;
    top: 0; // Start fade from very top
    left: 0;
    width: 100%;
    height: 150vh; // Make it taller than viewport to ensure fade covers scroll
    // Gradient starts transparent (matching navbar area), fades to body background
    background: linear-gradient(
        to bottom,
        rgba(red($im-background-page), green($im-background-page), blue($im-background-page), 0) $navbar-height, // Transparent up to navbar bottom
        rgba(red($im-background-page), green($im-background-page), blue($im-background-page), 0.3) calc(#{$navbar-height} + 10vh), // Start fade
        $im-background-page calc(#{$navbar-height} + 50vh) // Fully opaque matching body bg
    );
    z-index: -1; // Above grid, below content
    pointer-events: none; // Allow clicks through
}


// Navbar logo specific styling
.im-navbar-logo .im-logo-e {
    color: $primary;
}
.im-navbar-logo .im-logo-dev {
    color: $primary; 
    opacity: 0.75;
}

// Active "Work" navbar item style from UI
.navbar-item.im-work-active {
    background-color: $im-blue-active-nav !important;
    color: $white !important;
    border-radius: $radius-small !important;
    padding: 0.5em 1em !important; // Adjusted padding
    // For vertical centering if navbar items have varying internal padding:
    display: inline-flex;
    align-items: center;
    // If navbar-height is fixed, calculate internal height:
    // max-height: calc(#{$navbar-height} - 1.5rem); // Example
}
.navbar-item.im-work-active:hover {
    background-color: darken($im-blue-active-nav, 5%) !important;
}
.navbar-item.im-work-active .icon.im-active-arrow { // Assuming you add this class to the arrow span
    margin-left: 0.4em;
    path { fill: $white; }
}

// Quick Access Button
.im-quick-access-button {
    font-size: $size-7 !important; // Make sure it uses the small font size
    // Other styles should be covered by $button-light-* variables
    .im-quick-access-key {
        background-color: darken($im-button-bg-light, 7%);
        color: $im-text-body-main; // Or $im-logo-text-main
        border-radius: 3px;
        padding: 0.15em 0.45em;
        font-size: 0.8em; // Relative to button
        margin-left: 0.75em;
        font-weight: $weight-semibold;
    }
}

// Ensure body has top padding if navbar is fixed
// Bulma's .has-navbar-fixed-top on <html> or <body> usually handles this
// but if your navbar height is custom, you might need to adjust:
// html.has-navbar-fixed-top {
//   padding-top: $navbar-height;
// }
// body.has-navbar-fixed-top { // If you put it on body
//   padding-top: $navbar-height;
// }

// Example styling for a feature card like in the UI
.im-feature-card {
    background-color: $white;
    border-radius: $radius-large;
    padding: 1.75rem; // Generous padding
    box-shadow: $card-shadow;
    text-align: center; // If content is centered
}
.im-feature-card .im-feature-icon-wrapper { // Wrapper for the colored circle
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 48px; // UI icon circle size
    height: 48px;
    border-radius: 50%;
    margin-bottom: 1rem;
    color: $white; // Icon color
    font-size: 1.5rem; // Icon size within circle
}
// Example colors for feature icons - add more as needed
.im-feature-card.is-yellow .im-feature-icon-wrapper { background-color: #FFD166; }
.im-feature-card.is-pink .im-feature-icon-wrapper { background-color: #EF476F; }
.im-feature-card.is-blue .im-feature-icon-wrapper { background-color: #118AB2; }

.im-feature-card .title.is-6 { // Title inside these feature cards
    font-weight: $weight-semibold;
    color: $text-strong;
    margin-bottom: 0.5rem;
}
.im-feature-card .content p { // Text inside these feature cards
    font-size: $size-7;
    color: $text-light;
    line-height: 1.5;
}

// For the "Beautiful inside and out" section title
.im-decorative-title {
    // This would need custom HTML structure and more specific CSS
    // For example, using ::before and ::after for the lines
    // Variables can't create such complex decorative elements directly.
}

// For the numbered list (1. Typography, 2. Spacing etc.)
.im-principles-list .im-principle-item {
    // This also requires custom HTML (e.g., columns or flex) and CSS for styling
    // Variables will style the text and colors within, but not the layout itself.
}