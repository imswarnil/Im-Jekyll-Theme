// _variables.scss (or directly in your main scss file before Bulma import)
// This file ONLY redefines existing Bulma variables.

// ==== 1. FONT FAMILY DEFINITIONS (These are often defined first) ====
// From Enji Dev UI, "Inter" and "Outfit" look appropriate.
// Bulma uses $family-sans-serif as its primary font stack.
$family-sans-serif: "Inter", "Outfit", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
// Ensure other font families in Bulma default to this if desired:
$family-primary: $family-sans-serif;
$family-secondary: $family-sans-serif;
$family-code: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace; // A common monospace stack

// ==== 2. COLOR DEFINITIONS (Assigning Enji Dev UI colors to Bulma's color variables) ====

// --- Base Colors (approximated from Enji Dev UI) ---
$enji-purple-primary: #7F56D9;
$enji-blue-active-nav: #4A47C2;
$enji-text-dark-headings: #101828;
$enji-logo-text-main: #301E50;
$enji-text-body-main: #4D3D6F;
$enji-text-grey-subtle: #667085;
$enji-background-page: #F9FAFB;
$enji-border-ui: #EAECF0; // Softer border like #EAECF0 or #EDE9F2
$enji-button-bg-light: #F2F4F7; // Light grey for secondary buttons, slightly different from UI's #F0EEF3

// --- Overriding Bulma's Core Palette ---
$primary: $enji-purple-primary;

// Link colors
$link: $enji-logo-text-main; // Links in UI are darker purple
$link-hover: $primary;         // Hover to brighter primary purple
$link-focus-border: $primary;  // Maintain consistency
$link-active-color: darken($primary, 5%);

// Text colors
$text: $enji-text-body-main;
$text-light: $enji-text-grey-subtle;
$text-strong: $enji-text-dark-headings; // For <strong> and bold elements

// Info, Success, Warning, Danger (can be themed or kept closer to Bulma defaults if not heavily used in UI)
$info: $enji-blue-active-nav;    // Using the UI's active blue for info
$success: #10B981;              // A modern green
$warning: #F79009;              // A modern amber/orange for warnings (UI has yellow/orange tags)
$danger: #D92D20;               // A modern red

// Backgrounds
$body-background-color: $enji-background-page;
$background: $enji-background-page; // For .section, etc. if they don't have specific backgrounds

// Scheme colors (critical for component backgrounds like card, navbar, message)
// Bulma uses $white and $black that it defines (hsl(0, 0%, 100%) and hsl(0, 0%, 4%))
// We set $scheme-main typically to $white for light themes.
$scheme-main: $white;           // Default background for cards, navbar, etc. (UI is white for these)
$scheme-main-bis: $grey-lighter; // Or darken($white, 2%) if $grey-lighter is too dark
$scheme-main-ter: $grey-lightest; // Or darken($white, 4%)
$scheme-invert: $black;         // Text on $primary buttons (usually $black or $white depending on $primary lightness)
                                 // For Enji purple, white text is better for contrast:
$text-invert: $white;           // Default inverted text color (e.g., on dark backgrounds)
$primary-invert: $white;        // Text color on $primary background
$info-invert: $white;           // Text color on $info background

// Borders
$border: $enji-border-ui;
$border-light: lighten($enji-border-ui, 4%);
$border-hover: $primary;

// --- Typography (Sizes & Weights) ---
// Bulma's default sizes are $size-1 to $size-7. We map Enji UI's feel to these.
$size-1: 3rem;    // Largest heading (e.g., "I'm Enji Kusnadi" might be this or custom)
$size-2: 2.25rem;
$size-3: 1.875rem; // Main section headings
$size-4: 1.5rem;
$size-5: 1.125rem; // Card titles, subheadings
$size-6: 1rem;     // Default body text
$size-7: 0.875rem; // Small meta text, tags

$body-size: $size-6; // Set body font size
$body-line-height: 1.7; // Generous line height from UI
$body-weight: 400;      // Default body font weight

$weight-light: 300;
$weight-normal: 400;
$weight-medium: 500;
$weight-semibold: 600;
$weight-bold: 700;

// Title element styling (Bulma's .title class)
$title-color: $enji-text-dark-headings;
$title-weight: $weight-bold;
$title-line-height: 1.2;
$title-size: $size-3; // Default for .title class
$title-family: $family-primary;

// Subtitle element styling (Bulma's .subtitle class)
$subtitle-color: $enji-text-grey-subtle;
$subtitle-weight: $weight-normal;
$subtitle-line-height: 1.4;
$subtitle-size: $size-5; // Default for .subtitle class
$subtitle-family: $family-primary;

// --- Layout & Spacing ---
$radius-small: 6px;
$radius: 8px;
$radius-large: 12px; // UI has noticeable rounded corners on cards, buttons
$radius-rounded: 9999px;

$control-radius: $radius; // For form inputs and buttons

$gap: 32px; // Column gap. UI seems to have generous spacing. (Default is 1.5rem)
$section-padding: 6rem 1.5rem; // Vertical padding for sections
// $section-padding-medium: $section-padding; // Or define separately
// $section-padding-large: $section-padding; // Or define separately

// ==== 3. BULMA COMPONENT-SPECIFIC VARIABLE OVERRIDES ====

// --- Navbar ---
$navbar-background-color: $white; // UI navbar is white
$navbar-item-color: $enji-text-body-main;
$navbar-item-hover-color: $primary;
$navbar-item-hover-background-color: lighten($primary, 42%); // Very light purple hover fill
$navbar-item-active-color: $white; // For the specific "Work" item (styled with a custom class later)
$navbar-item-active-background-color: $enji-blue-active-nav; // For "Work"
$navbar-item-active-font-weight: $weight-semibold; // Active items slightly bolder
$navbar-dropdown-background-color: $white;
$navbar-dropdown-item-hover-background-color: lighten($primary, 44%);
$navbar-dropdown-item-hover-color: $primary;
$navbar-dropdown-border-top: 2px solid $primary; // UI has colored top border on dropdown
$navbar-dropdown-arrow: $link; // Dropdown arrow color
$navbar-height: 68px; // Approx from UI
$navbar-padding-vertical: 0rem; // Let items define padding
$navbar-padding-horizontal: 1rem; // For .container within navbar
$navbar-item-img-max-height: 28px; // For logo image
$navbar-box-shadow-size: 0 1px 3px;
$navbar-box-shadow-color: rgba($black, 0.06); // Softer navbar shadow

// --- Buttons ---
$button-family: $family-primary;
$button-color: $white; // Default text color for $primary button
$button-background-color: $primary;
$button-border-color: $primary;
$button-border-width: 1px;
$button-padding-vertical: 0.8em;
$button-padding-horizontal: 1.75em;
$button-hover-background-color: darken($primary, 5%);
$button-hover-border-color: darken($primary, 5%);
$button-active-background-color: darken($primary, 8%);
$button-active-border-color: darken($primary, 8%);
$button-focus-box-shadow-color: rgba($primary, 0.25);
$button-radius: $radius; // Consistent rounded buttons

// Light buttons (for "Resume", "Quick Access" from UI)
$button-light-background-color: $enji-button-bg-light;
$button-light-color: $enji-logo-text-main; // Darker purple text
$button-light-border-color: $enji-button-bg-light; // Or a very subtle border
$button-light-hover-background-color: darken($enji-button-bg-light, 4%);
$button-light-hover-color: darken($enji-logo-text-main, 5%);
$button-light-active-background-color: darken($enji-button-bg-light, 6%);

// --- Card --- (For general .card styling)
$card-background-color: $white;
$card-color: $text;
$card-header-background-color: $white; // Card headers in UI are usually white
$card-header-color: $text-strong;
$card-header-padding: 1.25rem;
$card-header-weight: $weight-semibold;
$card-shadow: 0 8px 24px rgba($enji-logo-text-main, 0.05), 0 2px 8px rgba($enji-logo-text-main, 0.03); // UI's soft shadow
$card-radius: $radius-large; // UI cards are more rounded
$card-content-padding: 1.5rem; // More padding inside cards
$card-footer-border-top: 1px solid $border-light; // Use the lighter border for card footers
$card-footer-padding: 1rem 1.25rem;

// --- Tags ---
$tag-background-color: lighten($primary, 42%); // A very light primary for default tags
$tag-color: $primary;
$tag-radius: $radius-small;
// Contextual tag colors will be derived from $info, $success, $warning, $danger
// Override their light versions if needed:
// $info-light: lighten($info, 35%); $info-invert: $info; (example)

// --- Forms ---
$input-background-color: $white;
$input-border-color: $enji-border-ui; // Softer input border
$input-color: $text;
$input-hover-border-color: darken($enji-border-ui, 10%);
$input-focus-border-color: $primary;
$input-focus-box-shadow-color: rgba($primary, 0.2);
$input-placeholder-color: $text-light; // Using the subtle grey for placeholders
$input-radius: $radius;
$label-color: $text-strong;
$label-weight: $weight-medium;
$help-color: $text-light;

// ==== 4. IMPORT BULMA ====
// This line MUST be after all your variable overrides.
// Adjust the path to where your Bulma Sass files are located.
@import "../node_modules/bulma/sass/index"; // Example: "../node_modules/bulma/bulma.sass"


// ==== 5. ADDITIONAL GLOBAL STYLES & MINOR OVERRIDES (AFTER BULMA IMPORT) ====
// Keep this section minimal. Most styling should be achieved via variable overrides.
// This is for things Bulma variables can't control or for specific custom classes.

html {
    // background-color is already set by $body-background-color through Bulma
    scroll-behavior: smooth;
}

body {
    // font-family, color, line-height, etc., are set by Bulma using our overridden variables.
    position: relative; // For the ::before and ::after pseudo-elements
    overflow-x: hidden; // Prevent horizontal scroll sometimes caused by pseudo-elements
}

// Fading Grid Lines Effect
body::before { // The grid itself
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-image: radial-gradient($enji-border-ui 0.5px, transparent 0.5px); // Using a theme border color
    background-size: 28px 28px; // Grid size from UI
    z-index: -2; // Deepest background
    opacity: 0.4; // Grid subtlety
}

body::after { // The fading overlay
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 150vh; // Taller than viewport for full fade on scroll
    background: linear-gradient(
        to bottom,
        rgba(red($body-background-color), green($body-background-color), blue($body-background-color), 0) $navbar-height, // Transparent until navbar bottom
        rgba(red($body-background-color), green($body-background-color), blue($body-background-color), 0.3) calc(#{$navbar-height} + 10vh), // Start fade-in
        $body-background-color calc(#{$navbar-height} + 50vh) // Fully opaque with body background
    );
    z-index: -1; // Above grid, below content
    pointer-events: none; // Allow clicks through
}

// Specific CSS for UI elements that variables might not perfectly capture,
// or for your custom HTML classes.

// Navbar Logo (if using custom class .im-navbar-logo)
.im-navbar-logo .im-logo-e {
    color: $primary; // Uses the overridden $primary
}
.im-navbar-logo .im-logo-dev {
    color: $primary;
    opacity: 0.75;
}

// Active "Work" navbar item (custom class .im-work-active)
.navbar-item.im-work-active {
    background-color: $enji-blue-active-nav !important; // Use the specific blue
    color: $white !important;
    border-radius: $radius-small !important;
    padding: 0.5em 1.1em !important;
    display: inline-flex;
    align-items: center;
    max-height: calc(#{$navbar-height} - 1.8rem); // Adjust to fit nicely
    margin-top: auto;
    margin-bottom: auto;
}
.navbar-item.im-work-active:hover {
    background-color: darken($enji-blue-active-nav, 5%) !important;
}
.navbar-item.im-work-active .icon.im-active-arrow svg path { // If arrow is SVG
    fill: $white;
}

// Quick Access Button (custom class .im-quick-access-button)
.im-quick-access-button {
    // Most styles should come from $button-light-* variable overrides.
    // This is for any fine-tuning.
    font-weight: $weight-medium; // Explicitly set if needed
    .im-quick-access-key {
        background-color: darken($button-light-background-color, 7%); // Use the derived var
        color: $text; // Or specific color for key text
        border-radius: 3px;
        padding: 0.15em 0.45em;
        font-size: 0.8em; // Relative to parent button
        margin-left: 0.75em;
        font-weight: $weight-semibold;
    }
}

// Styling for the large hero text ("I'm Enji Kusnadi")
// This often needs a custom class as Bulma's .title.is-1 might not be large enough or have the exact weight/spacing.
.im-hero-title-main {
    font-size: 4.5rem; // Custom large size
    line-height: 1.1;
    font-weight: $weight-extrabold; // Very bold
    color: $enji-text-dark-headings;
    margin-bottom: 0.75rem;
    .im-hero-name-highlight { // For "Enji"
        color: $primary;
    }
}

// Feature Cards (e.g., Clean & Intuitive) - you'd use .im-feature-card with Bulma's .card or .box
.im-feature-card {
    // background-color, border-radius, padding, box-shadow should come from $card-* vars
    text-align: left; // UI is left-aligned
    height: 100%;
    .im-feature-icon-wrapper {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 48px;
        height: 48px;
        border-radius: 50%;
        margin-bottom: 1.25rem; // More space below icon
        color: $white;
        font-size: 1.5rem;
    }
    // Specific background colors for feature icon wrappers
    &.is-yellow .im-feature-icon-wrapper { background-color: #FFD166; }
    &.is-pink .im-feature-icon-wrapper { background-color: #EF476F; }
    &.is-blue .im-feature-icon-wrapper { background-color: #118AB2; }

    .title.is-6 { // Title inside these feature cards
        font-weight: $weight-semibold;
        color: $text-strong;
        margin-bottom: 0.5rem;
    }
    .content p { // Text inside these feature cards
        font-size: $size-7;
        color: $text-light;
        line-height: 1.6;
    }
}

// For the numbered principles list (1. Typography, etc.)
.im-principles-list {
    .im-principle-item { // Apply to a .box or a custom div styled like a card
        background-color: $white;
        border-radius: $radius-large;
        padding: 1.5rem;
        box-shadow: $card-shadow;
        display: flex;
        align-items: center;
        margin-bottom: $gap; // Spacing between items
        .im-principle-number {
            font-size: 3.5rem; // Large number
            font-weight: $weight-bold;
            color: $grey-light; // Lighter grey for numbers
            margin-right: 1.5rem;
            line-height: 1;
        }
        .im-principle-content .title.is-5 {
            font-weight: $weight-semibold;
            color: $text-strong;
            margin-bottom: 0.25rem;
        }
        .im-principle-content p {
            font-size: $size-7;
            color: $text-light;
        }
    }
}