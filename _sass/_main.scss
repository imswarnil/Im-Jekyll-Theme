@import "./materia/index";


/* ==========================================================================
   THEME CSS - Load AFTER Bulma's default CSS
   ========================================================================== */

/*-------------------------------------------------------------------
  1. CSS CUSTOM PROPERTIES (LIGHT MODE - DEFAULT)
     Your theme's design tokens.
-------------------------------------------------------------------*/
:root {
  /* Jekyll Themed Accent Color */
  --jk-accent-color: #e53935;
  --jk-accent-color-rgb: 229, 57, 53;
  --jk-accent-foreground-color: #fff;

  /* Ghost specific vars (fallbacks) */
  --gh-font-heading: "Geist", "Outfit", Arial, sans-serif;
  --gh-font-body: "Geist", "Outfit", Arial, sans-serif;
  --ghost-accent-color: var(--jk-accent-color);

  /* Colors from your theme */
  --color-contrast: #000;
  --color-background: #fff;
  --color-background-100: #f3f3f3;
  --color-background-200: #ededed;
  --color-background-300: #dadada;
  --color-foreground: #4d4d4d;
  --color-secondary: #757575;
  --color-mute: #b2b2b2;
  --color-border: hsl(0, 0%, 50%, 0.2);
  --color-success: #348f3f;
  --color-error: #c34d4d;
  --color-overlay: rgba(5, 5, 5, 0.7);

  /* Font Families from your theme */
  --font-family-headings: var(--gh-font-heading, "Geist", "Outfit", sans-serif);
  --font-family-body: var(--gh-font-body, "Geist", "Outfit", sans-serif);
  --font-family-button: var(--font-family-body);
  --font-family-mono: "SFMono-Regular", Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;

  /* Font Sizes from your theme */
  --font-x-small: 0.75rem;  /* 12px */
  --font-small: 0.875rem; /* 14px */
  --font-base: 1rem;     /* 16px */
  --font-large: 1.125rem; /* 18px */
  /* Larger heading sizes from theme */
  --font-size-h6: 1rem;
  --font-size-h5: 1.125rem;
  --font-size-h4: 1.188rem;
  --font-size-h3: 1.25rem;
  --font-size-h2: 1.375rem;
  --font-size-h1: 1.75rem;


  /* Font Weights from your theme */
  --font-weight-light: 300;
  --font-weight-regular: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  /* Spacings from your theme */
  --spacing-1: 0.125rem; --spacing-2: 0.25rem;  --spacing-3: 0.375rem;
  --spacing-4: 0.5rem;   --spacing-5: 0.625rem; --spacing-6: 0.75rem;
  --spacing-7: 1rem;     --spacing-8: 1.25rem;  --spacing-9: 1.875rem;
  --spacing-10: 5rem;    --spacing-11: 6.25rem;
  --vertical-rhythm: 1.5rem;

  /* Border radius from your theme */
  --radius-1: 6px;
  --radius-2: 8px;
  --radius-3: 10px;
  --radius-4: 14px; /* Used for cards in original theme */
  --radius-5: 16px;
  --radius-6: clamp(16px, calc(11.25px + 1.25vw), 30px);
  --radius-sharp: 0px; /* For your sharp edge requirement */
  --radius-button-calculated: 20px; /* calc(2.5rem * 0.5) */

  /* Layout from your theme */
  --layout--padding: clamp(16px, calc(11.25px + 1.25vw), 30px);

  /* Navbar from your theme */
  --navbar--min-height: 58px;

  /* Button from your theme */
  --button--padding-v: var(--spacing-4);
  --button--padding-h: var(--spacing-8);
  --button--min-height: 2.5rem;
  --button--font-size: var(--font-small);
  --button--font-weight: var(--font-weight-medium);
  --button--line-height: 1.5;
  --button--border-radius: var(--radius-button-calculated); /* 20px */
  --button--color: var(--jk-accent-foreground-color);
  --button--background-color: var(--jk-accent-color);
  --button--opacity: 1;
  --button--transition: clip-path 0.2s ease, background-color 0.1s ease,
                      border-color 0.1s ease, color 0.1s ease, opacity 0.1s ease;
  --button-hover--color: var(--color-background);
  --button-hover--background-color: var(--color-contrast);
  --button-hover--opacity: 0.8;

  /* Container from your theme */
  --container--width: 700px;
  --container-wide--width: 1100px;

  /* Featured image from your theme */
  --featured-image--max-width: 1300px;

  /* Popup, Avatar, Dropdown from your theme */
  --popup--overlay--background-color: #e8e8e8;
  --avatar--size: 2.25rem;
  --avatar--font-size: var(--font-small);
  --avatar--color: var(--color-secondary);
  --avatar--background-color: var(--color-background-100);
  --avatar-hover--background-color: var(--color-background-200);
  --dropdown--background-color: var(--color-background);

  /* Shadow from your theme */
  --shadow: 0 20px 60px -10px hsla(0, 4%, 68%, 0.24),
            0 4px 20px -8px rgba(0, 0, 0, 0.24);
  --shadow-none: none; /* For explicit no-shadow */

  color-scheme: light;
}

/*-------------------------------------------------------------------
  2. GLOBAL BASE STYLES (Using CSS Custom Properties from above)
-------------------------------------------------------------------*/
/* Minimal Reset (Bulma handles most of this) */
*, *::before, *::after {
  box-sizing: border-box;
}

html {
  line-height: 1.5; /* From theme */
  -webkit-text-size-adjust: 100%;
  -moz-tab-size: 4;
  tab-size: 4;
  font-family: var(--font-family-body);
  -webkit-tap-highlight-color: transparent;
  scroll-behavior: smooth;
  background-color: var(--color-background);
  font-size: var(--font-base, 16px);
}

body {
  margin: 0;
  line-height: inherit;
  font-family: var(--font-family-body);
  color: var(--color-foreground);
  background-color: var(--color-background);
  font-weight: var(--font-weight-regular);
  font-style: normal;
  word-break: break-word;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  min-height: 100%;
  padding: 0;
}

img {
  display: block;
  height: auto;
  max-width: 100%;
  vertical-align: middle;
}
svg {
  vertical-align: middle;
}

p {
  margin-top: 0;
  margin-bottom: var(--vertical-rhythm);
}
p:last-child {
  margin-bottom: 0;
}

button, input, select, textarea {
  font: inherit;
  margin: 0;
}

hr {
  border: 0;
  border-top: 1px solid var(--color-border);
  margin: var(--vertical-rhythm) 0;
  opacity: 1;
}

h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-family-headings);
  color: var(--color-contrast);
  margin: 0 0 var(--vertical-rhythm) 0;
  font-weight: var(--font-weight-semibold);
  line-height: 1.2;
}
h1 { font-size: var(--font-size-h1, 1.75rem); line-height: 1.1; }
h2 { font-size: var(--font-size-h2, 1.375rem); }
h3 { font-size: var(--font-size-h3, 1.25rem); }
h4 { font-size: var(--font-large); } /* Theme --font-large */
h5 { font-size: var(--font-large); }
h6 { font-size: var(--font-base); }

a {
  color: var(--ghost-accent-color); /* Theme's link style */
  text-decoration: underline;
  text-decoration-color: currentColor;
  text-decoration-thickness: 0.075em;
  text-underline-offset: 0.15em;
  transition: color .1s ease, text-decoration-color .1s ease;
}
a:hover {
  color: var(--ghost-accent-color);
  text-decoration-color: transparent;
}

/* Code block styling (global) */
pre {
  font-family: var(--font-family-mono, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace);
  font-size: var(--font-small);
  background-color: var(--color-background-100);
  color: var(--color-contrast);
  padding: var(--spacing-6) var(--spacing-7);
  border-radius: var(--radius-2); /* Theme radius-2 */
  border: 1px solid var(--color-border); /* Explicit border */
  box-shadow: var(--shadow-none); /* No shadow */
  overflow: auto;
  margin: var(--vertical-rhythm) 0;
}
pre code {
  background-color: transparent !important;
  color: inherit !important;
  padding: 0 !important;
  font-size: inherit !important;
  border-radius: 0 !important;
  border: none !important;
  box-shadow: none !important;
}
:not(pre) > code {
  font-family: var(--font-family-mono, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace);
  font-size: 0.875em; /* Theme */
  background-color: var(--color-background-100);
  color: var(--color-contrast);
  padding: var(--spacing-2) var(--spacing-3);
  border-radius: var(--radius-1); /* Theme */
  border: 1px solid var(--color-border);
  box-shadow: var(--shadow-none);
}

/*-------------------------------------------------------------------
  3. BULMA COMPONENT OVERRIDES (Using CSS Custom Properties)
-------------------------------------------------------------------*/

/* General Bulma Typography Alignment */
.title, .subtitle {
  font-family: var(--font-family-headings);
  color: var(--color-contrast);
}
.title { font-weight: var(--font-weight-semibold); }
.subtitle { color: var(--color-secondary); font-weight: var(--font-weight-regular); }
/* Bulma .is-N title sizes should already be influenced by $size-N Sass vars.
   If direct override is needed:
   .title.is-1 { font-size: var(--font-size-h1); line-height: 1.1; }
*/

/* Buttons */
.button {
  font-family: var(--font-family-button);
  font-size: var(--button--font-size);
  font-weight: var(--font-weight-semibold); /* Theme specific */
  min-height: var(--button--min-height);
  line-height: var(--button--line-height);
  padding: var(--button--padding-v) var(--button--padding-h);
  border-radius: var(--button--border-radius); /* 20px */
  border-width: 0; /* Theme buttons are borderless by default */
  transition: var(--button--transition);
  color: var(--button--color);
  background-color: var(--button--background-color);
  opacity: var(--button--opacity);
}
.button:hover, .button:focus {
  color: var(--button-hover--color);
  background-color: var(--button-hover--background-color);
  opacity: var(--button-hover--opacity);
}
.button.is-primary {
  background-color: var(--jk-accent-color);
  color: var(--jk-accent-foreground-color);
}
.button.is-primary:hover, .button.is-primary:focus {
  background-color: var(--color-contrast); /* Theme hover */
  color: var(--color-background);
  opacity: 0.8;
}
.button.is-light {
  background-color: var(--color-background-100);
  color: var(--color-contrast);
  border: 1px solid var(--color-border);
}
.button.is-light:hover, .button.is-light:focus {
  background-color: var(--color-background-200);
  border-color: var(--color-border);
}

/* Cards & Boxes: Sharp Edges, Light Border, No Shadow */
.card, .box {
  border-radius: var(--radius-sharp) !important; /* 0px */
  box-shadow: var(--shadow-none) !important;
  border: 1px solid var(--color-border) !important;
  background-color: var(--color-background);
}

.card .card-header {
  background-color: transparent;
  box-shadow: none;
  border-bottom: 1px solid var(--color-border);
  border-radius: 0 !important;
  padding: var(--spacing-6) var(--spacing-7);
}
.card .card-header-title {
  padding: 0;
  color: var(--color-contrast);
  font-family: var(--font-family-headings);
  font-weight: var(--font-weight-semibold);
}
.card .card-image img {
  border-radius: 0 !important;
}
.card .card-content {
  padding: var(--spacing-7);
  color: var(--color-foreground);
}
.card .card-footer {
  border-top: 1px solid var(--color-border);
  background-color: transparent;
  padding: 0;
}
.card .card-footer-item {
  padding: var(--spacing-6) var(--spacing-7);
  color: var(--jk-accent-color);
  border-right: 1px solid var(--color-border);
}
.card .card-footer-item:last-child {
  border-right: none;
}
.card .card-footer-item:hover {
  background-color: var(--color-background-100);
}

.box {
  padding: var(--spacing-8); /* Theme's preferred box padding */
  color: var(--color-foreground);
}

/* Navbar */
.navbar {
  min-height: var(--navbar--min-height);
  background-color: transparent; /* Relies on ::before */
  box-shadow: none; /* Theme navbar is flat */
  border-bottom: 1px solid var(--color-border); /* Add border to navbar */
}
.navbar::before {
  content: "";
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  background-color: var(--color-background);
  opacity: 0.9; /* From theme */
  z-index: -1;
  backdrop-filter: blur(10px); /* From theme */
}
.navbar-brand { padding-left: var(--layout--padding); }
.navbar-brand .navbar-item img { max-height: calc(var(--navbar--min-height) - var(--spacing-6)); }
.navbar-menu { padding-right: var(--layout--padding); }
.navbar-item, .navbar-link {
  font-family: var(--font-family-button); /* Theme uses button font for nav */
  font-size: var(--font-small);
  font-weight: var(--font-weight-medium);
  color: var(--color-contrast); /* Theme nav links are contrast */
  padding: var(--spacing-4) var(--spacing-6); /* Theme's nav-link padding */
}
.navbar-item:hover, .navbar-item.is-active,
.navbar-link:hover, .navbar-link.is-active {
  background-color: var(--color-background-200); /* Theme's nav-link hover */
  color: var(--color-contrast); /* Stays contrast on hover */
}
.navbar-dropdown {
  background-color: var(--dropdown--background-color); /* Theme */
  border: 1px solid var(--color-border);
  border-top: none;
  border-radius: 0 0 var(--radius-2) var(--radius-2); /* Theme --radius-2 for dropdown bottom */
  box-shadow: var(--shadow); /* Theme shadow */
  padding: var(--spacing-2) 0; /* Theme */
}
.navbar-dropdown .navbar-item {
  padding-left: var(--spacing-6); /* Theme */
  padding-right: var(--spacing-6);
  color: var(--color-foreground);
}
.navbar-dropdown .navbar-item:hover {
  background-color: var(--color-background-100);
  color: var(--jk-accent-color);
}


/* Forms (Inputs, Textarea, Select) */
.input, .textarea, .select select {
  background-color: var(--color-background-100);
  border: 1px solid transparent; /* Theme form inputs borderless initially */
  border-radius: 1.5rem; /* 24px from theme's form styles */
  color: var(--color-contrast);
  min-height: 3rem; /* From theme */
  padding: var(--spacing-6) var(--spacing-8); /* From theme */
  font-size: var(--font-small);
  font-weight: var(--font-weight-medium);
  box-shadow: none;
}
.input:hover, .textarea:hover, .select select:hover {
  border-color: transparent; /* Still no border on hover */
}
.input:focus, .input.is-focused, .input:active, .input.is-active,
.textarea:focus, .textarea.is-focused, .textarea:active, .textarea.is-active,
.select select:focus, .select select.is-focused, .select select:active, .select select.is-active {
  border-color: var(--jk-accent-color);
  box-shadow: 0 0 0 0.125em rgba(var(--jk-accent-color-rgb), 0.25);
}
.input::placeholder, .textarea::placeholder {
  color: var(--color-mute);
}
label.label { /* Bulma .label */
  font-size: var(--font-small);
  font-weight: var(--font-weight-medium); /* Theme */
  color: var(--color-contrast);
  margin-bottom: var(--spacing-4); /* Approx 0.5rem */
}
.select:not(.is-multiple):not(.is-loading)::after { /* Dropdown arrow for select */
  border-color: var(--color-contrast); /* Match text */
  opacity: 0.8; /* From theme */
  right: var(--spacing-8); /* From theme */
}

/* Content Styling (Bulma's .content class) */
.content h1, .content h2, .content h3, .content h4, .content h5, .content h6 {
  font-family: var(--font-family-headings);
  color: var(--color-contrast);
  font-weight: var(--font-weight-semibold);
  line-height: 1.2;
  margin-top: calc(var(--vertical-rhythm) * 1.5); /* More space above headings in content */
  margin-bottom: var(--vertical-rhythm);
}
.content h1:first-child, .content h2:first-child, .content h3:first-child,
.content h4:first-child, .content h5:first-child, .content h6:first-child {
  margin-top: 0;
}
/* Specific theme heading sizes for .content if needed */
.content h1 { font-size: var(--font-size-h1); line-height: 1.1;}
.content h2 { font-size: var(--font-size-h2); }
/* ... etc ... */

.content p { line-height: 1.6; margin-bottom: var(--vertical-rhythm); }
.content ul, .content ol { padding-left: 0; margin: var(--vertical-rhythm) 0; }
.content ul { list-style: none; }
.content ul > li { padding-left: var(--spacing-8); position: relative; }
.content ul > li::before {
  content: ""; position: absolute; left: var(--spacing-2); top: 0.65em;
  height: 0.25rem; width: 0.25rem; background-color: currentColor; border-radius: 50%;
}
.content ul ul > li::before { background-color: transparent; border: 1px solid currentColor; }
.content ul ul ul > li::before { background-color: currentColor; border-radius: 0; }
.content ol { padding-left: var(--spacing-8); list-style: none; counter-reset: contentOrderedList; }
.content ol > li::before {
  content: counter(contentOrderedList) ". "; counter-increment: contentOrderedList;
  position: absolute; left: 0;
  font-weight: var(--font-weight-medium); font-size: 0.938em; color: var(--color-secondary);
}
.content ol ol { list-style: lower-alpha; padding-left: var(--spacing-8); }
.content ol ol ol { list-style: lower-roman; }
.content li + li { margin-top: var(--spacing-4); } /* approx 0.5em */
.content figure figcaption {
  color: var(--color-secondary); font-size: var(--font-small);
  margin-top: var(--spacing-6); text-align: center;
}

/* Archive Page Specifics */
.archive-column-cards .post-item-box .content .message.is-light {
  background-color: var(--color-background-100);
  border-radius: var(--radius-1); /* Or var(--radius-sharp) */
  border: 1px solid var(--color-border);
  border-left-width: 3px; /* Standard message accent */
  color: var(--color-foreground);
}
.archive-column-cards .post-item-box .content .message.is-light.is-warning {
  border-left-color: #ffdd57; /* Bulma warning */
  /* You might want to override Bulma's .message.is-warning .message-body color if needed */
}
.archive-column-cards .post-item-box .content .message.is-light.is-info {
  border-left-color: #3298dc; /* Bulma info */
}
.archive-column-cards .post-item-box .content .message.is-light .message-body {
  padding: var(--spacing-4) var(--spacing-6); /* Consistent padding */
  font-size: var(--font-x-small); /* Smaller for TLDR */
}
.archive-column-cards .post-item-box .post-item-footer .buttons .button.is-light {
  border: 1px solid var(--color-border); /* Ensure these also get the border */
}

/* You would add the dark mode styles here, typically: */
/*
[data-theme="dark"] {
  --jk-accent-color: #your_dark_accent;
  --color-background: #0f0f0f;
  // ... all other dark mode CSS custom property overrides ...

  // Then, component specific overrides for dark mode if needed,
  // e.g., if a component doesn't perfectly adapt just by changing CSS vars
  .button.is-light { background-color: var(--color-background-200); ... }
}
*/