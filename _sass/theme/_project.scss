// theme/_projects.scss
// Using Bulma CSS Custom Properties (Variables) - Requires Bulma >= 0.9.0

// --- Shared Project Card Styles ---
.project-card {
    // Use is-flex on element for height matching in Bulma columns >= 0.7.2
    // height: 100%; // Fallback if not using is-flex helpers
    background-color: var(--bulma-card-background-color, var(--bulma-white)); // Added fallback
    border-radius: var(--bulma-card-radius, var(--bulma-radius));
    box-shadow: var(--bulma-card-shadow, 0 0.5em 1em -0.125em rgba(var(--bulma-black-rgb), 0.1), 0 0px 0 1px rgba(var(--bulma-black-rgb), 0.02)); // Example complex fallback
    border: 1px solid var(--bulma-border, var(--bulma-grey-lighter)); // Use Bulma's border variable
    transition: transform 0.25s ease-out, box-shadow 0.25s ease-out, border-color 0.25s ease-out;
    overflow: hidden; // Clip status tag
  
    &:hover {
      transform: translateY(-5px) scale(1.01);
      // Using black with alpha for shadow, referencing --bulma-black-rgb if available, else fallback
      box-shadow: 0 10px 20px rgba(var(--bulma-black-rgb, 10, 10, 10), 0.1), 0 3px 6px rgba(var(--bulma-black-rgb, 10, 10, 10), 0.08);
      border-color: var(--bulma-primary); // Highlight border on hover
    }
  
    .project-card-image {
      position: relative; // For positioning status tag
  
      img {
        transition: transform 0.3s ease;
      }
  
      .project-card-status-tag {
        position: absolute;
        top: 0.75rem;
        right: 0.75rem;
        z-index: 2;
        font-weight: var(--bulma-weight-semibold);
        box-shadow: 0 1px 3px rgba(var(--bulma-black-rgb, 10, 10, 10), 0.2);
      }
    }
  
    &:hover .project-card-image img {
       transform: scale(1.05); // Subtle zoom on image hover
    }
  
    .project-card-content {
      padding: 1.25rem; // Consistent padding
    }
  
    .project-card-title {
      line-height: 1.3; // Improve title spacing
      a {
        color: var(--bulma-text-strong); // Darker title color
        &:hover {
          color: var(--bulma-link-hover); // Use Bulma's calculated hover color
        }
      }
    }
  
    .project-card-date {
      .icon {
        vertical-align: middle; // Align icon better
      }
    }
  
    .project-card-description {
      color: var(--bulma-text-light); // Lighter description text
      min-height: 4.5em; // Reserve space for ~3 lines of description
      margin-bottom: 1rem;
    }
  
    .project-card-footer {
       margin-top: auto; // Pushes footer to bottom when card content is short
       background-color: var(--bulma-white-bis); // Slightly different footer bg
       border-top: 1px solid var(--bulma-border, var(--bulma-grey-lighter));
       flex-direction: column; // Stack tags and links vertically
       padding: 0;
    }
  
    .project-card-tags {
        border-bottom: 1px solid var(--bulma-border, var(--bulma-grey-lighter));
        width: 100%;
        // Tags inside use Bulma's default tag styles based on variables
        // .tag {}
    }
  
    .project-card-links {
      display: flex; // Align links horizontally again
      width: 100%;
      border-top: none; // Remove default footer border
  
      .card-footer-item {
        font-size: var(--bulma-size-7);
        font-weight: var(--bulma-weight-medium);
        color: var(--bulma-link);
        transition: background-color 0.2s ease, color 0.2s ease;
  
        &:hover {
          background-color: var(--bulma-primary);
          color: var(--bulma-primary-invert); // Use invert color for text on primary bg
        }
  
        // Give Details link more space maybe
        &.project-card-details-link {
            flex-grow: 2;
            justify-content: center;
        }
        // Ensure icon-only links don't take too much space
        &:not(.project-card-details-link) {
           flex-grow: 0;
           flex-basis: 40px; // Adjust size as needed
           padding-left: 0.5rem;
           padding-right: 0.5rem;
        }
      }
    }
  }
  
  
  // --- Project Listing Page Specific ---
  .project-listing-page {
    .project-listing-header {
      // Add styling if needed
    }
    .project-grid {
      // Bulma's is-variable class controls gap using CSS vars internally
    }
  }
  
  
  // --- Featured Projects Section Specific ---
  .featured-projects-section {
    // Example: Apply background using CSS var
    // background-color: var(--bulma-background);
  
    .project-view-all-button {
      .icon {
         margin-left: 0.5em;
         transition: transform 0.2s ease-out;
      }
      &:hover .icon {
          transform: translateX(4px);
      }
    }
  }
  
  
  // --- Single Project Page Specific ---
  .project-single-page {
    .project-breadcrumb {
      font-size: var(--bulma-size-7);
    }
    .project-title {
      // Add styles if needed
    }
    .project-meta-top {
       display: flex;
       align-items: center;
       gap: 0.5rem;
       .project-status {
          vertical-align: middle;
          // Uses default tag styles
       }
    }
    .project-cover-image {
      border-radius: var(--bulma-radius-large);
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(var(--bulma-black-rgb, 10, 10, 10), 0.1);
    }
  
    .project-links {
       // Buttons use Bulma's default styles based on CSS vars
    }
  
    .project-main-content {
      line-height: 1.7; // Improve readability
  
      h2, h3, h4 {
        margin-top: 2em;
        margin-bottom: 0.8em;
        font-weight: var(--bulma-weight-semibold);
      }
      p { margin-bottom: 1.25em; }
      a {
          color: var(--bulma-link);
          text-decoration: none;
          // Using link color with alpha for border
          border-bottom: 1px solid rgba(var(--bulma-link-rgb), 0.3); // Assumes --bulma-link-rgb exists
          transition: border-color 0.2s ease;
          &:hover {
              border-color: var(--bulma-link);
          }
      }
      // Using Bulma's code/pre variables
      code {
          background-color: var(--bulma-code-background);
          color: var(--bulma-code);
          font-size: var(--bulma-pre-code-font-size, 0.875em); // Added fallback size
          padding: 0.2em 0.4em;
          border-radius: var(--bulma-radius-small);
      }
      pre code {
          padding: 0;
          background-color: transparent;
          color: inherit; // Inherit from pre
      }
      pre {
          background-color: var(--bulma-pre-background);
          padding: 1.25em;
          border-radius: var(--bulma-radius);
          white-space: pre-wrap; // Wrap long code lines
          word-wrap: break-word;
      }
      blockquote {
          background-color: var(--bulma-white-ter);
          border-left: 5px solid var(--bulma-border, var(--bulma-grey-lighter));
          padding: 1em 1.5em;
      }
      img {
          max-width: 100%;
          height: auto;
          display: block;
          margin: 1.5rem auto;
          border-radius: var(--bulma-radius);
          box-shadow: 0 2px 5px rgba(var(--bulma-black-rgb, 10, 10, 10), 0.1);
      }
    }
  
    .project-meta-box {
      // Using Bulma Box variables
      background-color: var(--bulma-box-background-color, var(--bulma-white-bis)); // Use box bg or fallback
      padding: var(--bulma-box-padding, 1.25rem);
      border-radius: var(--bulma-box-radius, var(--bulma-radius-large));
      box-shadow: var(--bulma-box-shadow, none); // Use box shadow or none
  
      p.has-text-weight-semibold { // Style the meta labels
          color: var(--bulma-text-light);
          text-transform: uppercase;
          letter-spacing: 0.05em;
          font-size: var(--bulma-size-7);
          margin-bottom: 0.75rem !important;
      }
  
      .tags .tag {
          margin-bottom: 0.5rem; // Ensure spacing between tags
      }
  
      .project-tech-tags .tag {
         // Use default .tag.is-light styles which use CSS vars
         // Or override specifically:
         background-color: var(--bulma-grey-lighter);
         color: var(--bulma-grey-darker);
         font-weight: var(--bulma-weight-medium);
      }
       .project-tags .tag {
         // Uses .tag.is-primary.is-light styles
      }
       .project-categories .tag {
         // Uses .tag.is-info.is-light styles
      }
    }
  }