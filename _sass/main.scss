/*
==========================================================================
  IM THEME - Full Bulma Override (Custom CSS)
==========================================================================
*/

/*
--------------------------------------------------------------------------
  1. Root Variables & Base Resets
--------------------------------------------------------------------------
*/
:root {
    /* Core Palette - Define your "Im" brand colors */
    --im-primary: #e53935; /* Your chosen primary red */
    --im-primary-light: #ef5350;
    --im-primary-dark: #c62828;

    --im-secondary: #424242; /* A dark grey for accents/text */
    --im-secondary-light: #616161;
    --im-secondary-dark: #212121;

    --im-accent: #FFC107; /* An accent color (e.g., amber) */
    --im-accent-light: #FFCA28;
    --im-accent-dark: #FFA000;

    --im-link: var(--im-primary);
    --im-link-hover: var(--im-primary-dark);

    /* Grayscale & Backgrounds */
    --im-white: #ffffff;
    --im-black: #0a0a0a; /* Bulma's black */
    --im-text: #363636; /* Bulma's default text */
    --im-text-light: #7a7a7a;
    --im-text-strong: var(--im-black); /* For bold text */
    --im-border: #dbdbdb; /* Bulma's default border */
    --im-border-light: #ededed;
    --im-background: #f9f9f9; /* Light off-white background */
    --im-body-background: var(--im-white);

    /* UI Colors */
    --im-success: #48c774;
    --im-warning: #ffdd57;
    --im-danger: #f14668;
    --im-info: #3273dc;

    /* Typography */
    --im-font-sans: "Outfit", "Arial", sans-serif;
    --im-font-monospace: "Roboto Mono", "Courier New", monospace;
    --im-font-heading: var(--im-font-sans); /* Can be different */
    --im-base-font-size: 16px;
    --im-base-line-height: 1.6;
    --im-text-rendering: optimizeLegibility;

    /* Spacing & Sizing */
    --im-spacing-unit: 1rem;
    --im-radius: 4px;
    --im-radius-large: 8px;
    --im-radius-small: 2px;

    /* Transitions */
    --im-transition-fast: all 0.15s ease-in-out;
    --im-transition-normal: all 0.3s ease-in-out;

    /* Shadows */
    --im-shadow-sm: 0 1px 3px rgba(0,0,0,0.05), 0 1px 2px rgba(0,0,0,0.03);
    --im-shadow-md: 0 4px 6px -1px rgba(0,0,0,0.07), 0 2px 4px -1px rgba(0,0,0,0.04);
    --im-shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.07), 0 4px 6px -2px rgba(0,0,0,0.03);
    --im-shadow-xl: 0 20px 25px -5px rgba(0,0,0,0.07), 0 10px 10px -5px rgba(0,0,0,0.02);
}

*, *::before, *::after {
    box-sizing: border-box;
}

html {
    font-size: var(--im-base-font-size);
    -moz-osx-font-smoothing: grayscale;
    -webkit-font-smoothing: antialiased;
    text-rendering: var(--im-text-rendering);
    background-color: var(--im-body-background);
    color: var(--im-text);
    scroll-behavior: smooth;
}

body {
    font-family: var(--im-font-sans);
    line-height: var(--im-base-line-height);
    font-weight: 400;
    color: var(--im-text);
    background-color: var(--im-body-background);
    margin: 0;
    padding: 0;
    overflow-x: hidden; /* Prevent horizontal scroll */
}

/*
--------------------------------------------------------------------------
  2. Typography Overrides
--------------------------------------------------------------------------
*/
h1, h2, h3, h4, h5, h6,
.title, .subtitle {
    font-family: var(--im-font-heading);
    font-weight: 700; /* Bolder headings */
    color: var(--im-secondary-dark);
    line-height: 1.2;
    margin: 0 0 calc(var(--im-spacing-unit) * 0.75) 0;
    padding: 0;
}

.title.is-1, h1 { font-size: 2.75rem; margin-bottom: calc(var(--im-spacing-unit) * 1.5); }
.title.is-2, h2 { font-size: 2.25rem; margin-bottom: calc(var(--im-spacing-unit) * 1.25); }
.title.is-3, h3 { font-size: 1.75rem; }
.title.is-4, h4 { font-size: 1.4rem; }
.title.is-5, h5 { font-size: 1.15rem; font-weight: 600; }
.title.is-6, h6 { font-size: 1rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em;}

.subtitle {
    font-weight: 400;
    color: var(--im-text-light);
    line-height: 1.4;
}
.subtitle.is-1 { font-size: 2rem; }
.subtitle.is-2 { font-size: 1.75rem; }
/* ... and so on for subtitle sizes */

p {
    margin: 0 0 var(--im-spacing-unit) 0;
    padding: 0;
}

a {
    color: var(--im-link);
    text-decoration: none;
    transition: var(--im-transition-fast);
}
a:hover, a:focus {
    color: var(--im-link-hover);
    text-decoration: underline;
}

strong, b {
    font-weight: 700;
    color: var(--im-text-strong);
}

em, i {
    /* Keep Bulma's default italic or customize */
}

code, pre {
    font-family: var(--im-font-monospace);
    background-color: lighten(var(--im-secondary-dark), 75%);
    color: var(--im-secondary-dark);
    padding: 0.1em 0.4em;
    border-radius: var(--im-radius-small);
    font-size: 0.9em;
}
pre {
    padding: var(--im-spacing-unit);
    overflow-x: auto;
    white-space: pre-wrap; /* Or pre for no wrap */
}

hr {
    background-color: var(--im-border-light);
    border: none;
    display: block;
    height: 1px;
    margin: var(--im-spacing-unit) 0;
}

/* Bulma's .content class for general prose */
.content {
    /* Most typography already handled, but you can add specifics */
}
.content h1, .content h2, .content h3 /*...etc */ {
    /* Already styled by general h tags, but can be more specific if needed */
}
.content ul, .content ol {
    margin-left: calc(var(--im-spacing-unit) * 1.5);
    margin-bottom: var(--im-spacing-unit);
}
.content li + li {
    margin-top: calc(var(--im-spacing-unit) * 0.25);
}

/*
--------------------------------------------------------------------------
  3. Layout Element Overrides (Columns, Section, Container, Hero)
--------------------------------------------------------------------------
*/
.section {
    padding: calc(var(--im-spacing-unit) * 3) calc(var(--im-spacing-unit) * 1.5);
    background-color: transparent; /* Sections don't have bg by default */
}
.section.im-section-bg-light {
    background-color: var(--im-background);
}
.section.im-section-bg-dark {
    background-color: var(--im-secondary-dark);
    color: var(--im-white);
}
.section.im-section-bg-dark .title,
.section.im-section-bg-dark .subtitle,
.section.im-section-bg-dark h1, /* ...and other headings */
.section.im-section-bg-dark p,
.section.im-section-bg-dark a {
    color: var(--im-white);
}
.section.im-section-bg-dark a:hover {
    color: var(--im-primary-light);
}


.container {
    max-width: 1140px; /* Or your preferred max width */
    margin-left: auto;
    margin-right: auto;
    padding-left: var(--im-spacing-unit);
    padding-right: var(--im-spacing-unit);
    width: 100%;
}
/* Bulma's .is-fluid, .is-widescreen, .is-fullhd can be overridden if needed */

.columns {
    margin-left: calc(-1 * var(--im-spacing-unit) * 0.75);
    margin-right: calc(-1 * var(--im-spacing-unit) * 0.75);
    margin-top: calc(-1 * var(--im-spacing-unit) * 0.75);
}
.columns:last-child {
    margin-bottom: calc(-1 * var(--im-spacing-unit) * 0.75);
}
.columns:not(:last-child) {
    margin-bottom: calc(var(--im-spacing-unit) * 0.75);
}
.column {
    display: block;
    flex-basis: 0;
    flex-grow: 1;
    flex-shrink: 1;
    padding: calc(var(--im-spacing-unit) * 0.75);
}
/* .is-variable for custom gaps - we'll use our spacing unit */
.columns.is-variable {
    /* Bulma uses CSS vars for this, we can override those or just apply our own */
    --column-gap: calc(var(--im-spacing-unit) * 1.5); /* Default variable gap */
}
/* You'd need to define .is-1, .is-2, etc., for specific variable gaps if you don't use Bulma's CSS vars for it */


.hero {
    align-items: stretch;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    background-color: var(--im-background); /* Default hero bg */
    color: var(--im-text);
}
.hero.is-primary { /* Override Bulma's primary hero */
    background-color: var(--im-primary);
    color: var(--im-white); /* Or calculate contrast color */
}
.hero.is-primary .title, .hero.is-primary .subtitle {
    color: var(--im-white);
}
/* ... other hero color variations ... */

.hero-head, .hero-foot {
    flex-grow: 0;
    flex-shrink: 0;
}
.hero-body {
    flex-grow: 1;
    flex-shrink: 0;
    padding: calc(var(--im-spacing-unit) * 3) calc(var(--im-spacing-unit) * 1.5);
}

/*
--------------------------------------------------------------------------
  4. Component Overrides (Button, Card, Navbar, etc.)
--------------------------------------------------------------------------
*/

/* --- Button --- */
.button {
    background-color: var(--im-white);
    border: 1px solid var(--im-border);
    color: var(--im-text);
    cursor: pointer;
    justify-content: center;
    padding: calc(var(--im-spacing-unit) * 0.5 - 1px) var(--im-spacing-unit);
    text-align: center;
    white-space: nowrap;
    border-radius: var(--im-radius);
    font-size: 1rem;
    height: auto; /* Reset Bulma's fixed height */
    line-height: var(--im-base-line-height);
    position: relative;
    vertical-align: top;
    transition: var(--im-transition-fast);
    box-shadow: var(--im-shadow-sm);
}
.button:hover, .button:focus {
    border-color: darken(var(--im-border), 10%);
    color: var(--im-text);
    box-shadow: var(--im-shadow-md);
    transform: translateY(-1px);
}
.button:active {
    box-shadow: inset 0 1px 2px rgba(0,0,0,0.1);
    transform: translateY(0px);
}

.button.is-primary {
    background-color: var(--im-primary);
    border-color: var(--im-primary);
    color: var(--im-white); /* Calculate contrast if primary can vary */
}
.button.is-primary:hover, .button.is-primary:focus {
    background-color: var(--im-primary-dark);
    border-color: var(--im-primary-dark);
}
/* ... other button colors: is-link, is-info, is-success, etc. ... */
.button.is-link {
    background-color: var(--im-link);
    border-color: var(--im-link);
    color: var(--im-white);
}
.button.is-link:hover {
    background-color: var(--im-link-hover);
    border-color: var(--im-link-hover);
}


.button.is-light {
    background-color: var(--im-background);
    border-color: transparent;
    color: var(--im-text-strong);
}
.button.is-light:hover {
    background-color: darken(var(--im-background), 5%);
}

.button.is-outlined {
    background-color: transparent;
    border-color: var(--im-border);
    color: var(--im-text);
}
.button.is-primary.is-outlined {
    border-color: var(--im-primary);
    color: var(--im-primary);
}
.button.is-primary.is-outlined:hover {
    background-color: var(--im-primary);
    color: var(--im-white);
}

.button.is-small { font-size: 0.875rem; padding: calc(var(--im-spacing-unit) * 0.35) calc(var(--im-spacing-unit) * 0.75); }
.button.is-medium { font-size: 1.125rem; padding: calc(var(--im-spacing-unit) * 0.65) calc(var(--im-spacing-unit) * 1.25); }
.button.is-large { font-size: 1.375rem; padding: calc(var(--im-spacing-unit) * 0.85) calc(var(--im-spacing-unit) * 1.5); }

.button .icon {
    margin-left: calc(-1 * var(--im-spacing-unit) * 0.25);
    margin-right: calc(var(--im-spacing-unit) * 0.25);
}
.button .icon:last-child { margin-right: calc(-1 * var(--im-spacing-unit) * 0.25); }

/* --- Card --- */
.card {
    background-color: var(--im-white);
    border-radius: var(--im-radius-large);
    box-shadow: var(--im-shadow-md);
    color: var(--im-text);
    display: flex; /* For consistent height in columns */
    flex-direction: column;
    position: relative;
    overflow: hidden; /* If images might poke out */
    transition: var(--im-transition-normal);
}
.card:hover {
    box-shadow: var(--im-shadow-lg);
    transform: translateY(-3px);
}

.card-header {
    background-color: transparent;
    align-items: stretch;
    box-shadow: none;
    display: flex;
    border-bottom: 1px solid var(--im-border-light);
    padding: calc(var(--im-spacing-unit) * 0.75) var(--im-spacing-unit);
}
.card-header-title {
    align-items: center;
    color: var(--im-secondary-dark);
    display: flex;
    flex-grow: 1;
    font-weight: 700;
    padding: 0; /* Reset Bulma padding */
    font-size: 1.2rem;
}
.card-header-icon {
    align-items: center;
    cursor: pointer;
    display: flex;
    padding: 0; /* Reset Bulma padding */
    justify-content: center;
}

.card-image {
    display: block;
    position: relative;
}
.card-image .image img { /* Ensure image fills its container if using fixed aspect ratio figure */
    object-fit: cover;
    width: 100%;
    height: 100%;
}

.card-content {
    background-color: transparent;
    padding: var(--im-spacing-unit);
    flex-grow: 1; /* To make cards in a row same height */
    display: flex;
    flex-direction: column;
}
.card-content .content-body { /* Wrapper for main content if needed for flex */
    flex-grow: 1;
}
.card-content .cta { /* For "Read More" buttons at the bottom */
    margin-top: auto;
    padding-top: var(--im-spacing-unit);
}

.card-footer {
    background-color: transparent;
    border-top: 1px solid var(--im-border-light);
    align-items: stretch;
    display: flex;
}
.card-footer-item {
    align-items: center;
    display: flex;
    flex-basis: 0;
    flex-grow: 1;
    flex-shrink: 0;
    justify-content: center;
    padding: calc(var(--im-spacing-unit) * 0.75) var(--im-spacing-unit);
    color: var(--im-link);
}
.card-footer-item:not(:last-child) {
    border-right: 1px solid var(--im-border-light);
}
.card-footer-item:hover {
    color: var(--im-link-hover);
    background-color: lighten(var(--im-border-light), 5%);
}

/* --- Navbar (Example using "Im" theme variables) --- */
/* This uses the structure from your previous "enjidev" example, but with "Im" theme variables */
.navbar.im-navbar-style {
    background-color: var(--im-navbar-background, var(--im-white)); /* Fallback */
    border-bottom: 1px solid var(--im-navbar-border-color, var(--im-border-light));
    box-shadow: var(--im-shadow-sm);
    min-height: 4.25rem;
}
.navbar.im-navbar-style .navbar-brand .navbar-item.im-site-logo {
    color: var(--im-primary); /* Using primary from theme */
    font-weight: 700;
    font-size: 1.6rem;
    padding-left: 0;
}
.navbar.im-navbar-style .navbar-brand .navbar-item.im-site-logo:hover {
    background-color: transparent !important;
}
.navbar.im-navbar-style .navbar-menu.is-active {
    background-color: var(--im-navbar-background, var(--im-white));
}
.navbar.im-navbar-style .navbar-item.im-nav-link,
.navbar.im-navbar-style .navbar-item.has-dropdown > .navbar-link.im-nav-link { /* Adjusted selector for specificity */
    color: var(--im-text-light);
    font-weight: 500;
    padding: 0.75rem 1rem;
    transition: var(--im-transition-fast);
}
.navbar.im-navbar-style .navbar-item.im-nav-link:hover,
.navbar.im-navbar-style .navbar-item.has-dropdown > .navbar-link.im-nav-link:hover {
    background-color: transparent;
    color: var(--im-primary);
}
.navbar.im-navbar-style .navbar-item.im-nav-link.im-is-active-custom, /* Your custom active class */
.navbar.im-navbar-style .navbar-item.has-dropdown > .navbar-link.im-nav-link.im-is-active-custom {
    color: var(--im-accent, var(--im-primary-dark)); /* Use accent or a darker primary */
    font-weight: 600;
}
.navbar.im-navbar-style .navbar-item.im-nav-link.im-is-active-custom .icon.im-play-icon i {
    font-size: 0.7em;
    margin-left: 0.25rem;
}
.navbar.im-navbar-style .navbar-dropdown {
    border-top-color: var(--im-primary);
    box-shadow: var(--im-shadow-md);
}
.navbar.im-navbar-style .navbar-end .navbar-item.im-social-icon-link .icon {
    color: var(--im-text-light);
    transition: var(--im-transition-fast);
}
.navbar.im-navbar-style .navbar-end .navbar-item.im-social-icon-link:hover .icon {
    color: var(--im-primary);
}
.navbar.im-navbar-style .button.im-quick-access-button {
    background-color: var(--im-button-quick-access-bg, #f5f5f5);
    border-color: transparent;
    color: var(--im-text-dark);
    /* ... other quick access button styles */
}
.navbar.im-navbar-style .navbar-burger span {
    background-color: var(--im-text-dark);
}

/* --- Forms --- */
.input, .textarea, .select select {
    background-color: var(--im-white);
    border: 1px solid var(--im-border);
    border-radius: var(--im-radius);
    color: var(--im-text);
    padding: calc(var(--im-spacing-unit) * 0.5 - 1px) calc(var(--im-spacing-unit) * 0.75 - 1px);
    box-shadow: inset 0 0.0625em 0.125em rgba(10,10,10,.05);
    font-size: 1rem;
    line-height: var(--im-base-line-height);
    transition: var(--im-transition-fast);
}
.input:hover, .textarea:hover, .select select:hover {
    border-color: darken(var(--im-border), 10%);
}
.input:focus, .textarea:focus, .select select:focus,
.input.is-focused, .textarea.is-focused, .select select.is-focused,
.input:active, .textarea:active, .select select:active,
.input.is-active, .textarea.is-active, .select select.is-active {
    border-color: var(--im-primary);
    box-shadow: 0 0 0 0.125em rgba(var(--im-primary-rgb, 229, 57, 53), 0.25); /* Needs --im-primary-rgb for rgba */
    outline: none;
}
/* You'd need to define --im-primary-rgb: 229, 57, 53; in :root for the focus shadow */

.label {
    color: var(--im-text-strong);
    display: block;
    font-size: 1rem;
    font-weight: 700;
    margin-bottom: calc(var(--im-spacing-unit) * 0.5);
}
.help {
    display: block;
    font-size: 0.875rem;
    margin-top: calc(var(--im-spacing-unit) * 0.25);
    color: var(--im-text-light);
}
.help.is-danger { color: var(--im-danger); }


/* --- Table --- */
.table {
    background-color: var(--im-white);
    color: var(--im-text);
    width: 100%;
    margin-bottom: var(--im-spacing-unit);
}
.table td, .table th {
    border: 1px solid var(--im-border-light);
    padding: calc(var(--im-spacing-unit) * 0.5) calc(var(--im-spacing-unit) * 0.75);
    vertical-align: top;
}
.table th {
    color: var(--im-text-strong);
    font-weight: 700;
    text-align: left;
}
.table thead td, .table thead th {
    border-width: 0 0 2px;
    color: var(--im-text-strong);
}
.table tfoot td, .table tfoot th {
    border-width: 2px 0 0;
    color: var(--im-text-strong);
}
.table tbody tr:last-child td, .table tbody tr:last-child th {
    border-bottom-width: 0;
}
.table.is-striped tbody tr:nth-child(odd) {
    background-color: var(--im-background);
}
.table.is-hoverable tbody tr:hover {
    background-color: darken(var(--im-background), 2%);
}
.table.is-bordered td, .table.is-bordered th {
    border-width: 1px;
}
.table.is-fullwidth { /* Already default by width: 100% */ }
.table.is-narrow td, .table.is-narrow th {
    padding: calc(var(--im-spacing-unit) * 0.25) calc(var(--im-spacing-unit) * 0.5);
}


/* --- Other Components (Message, Notification, Tag, Progress, Pagination etc.) --- */
/* You would continue this pattern for every Bulma component you want to theme. */

/* Example: Message */
.message {
    background-color: var(--im-background);
    border-radius: var(--im-radius);
    font-size: 1rem;
    padding: 0; /* Reset padding */
    box-shadow: var(--im-shadow-sm);
    overflow: hidden; /* Ensure header bg doesn't bleed */
}
.message-header {
    align-items: center;
    background-color: var(--im-secondary-dark);
    border-radius: 0; /* Reset */
    color: var(--im-white);
    display: flex;
    font-weight: 700;
    justify-content: space-between;
    line-height: 1.25;
    padding: calc(var(--im-spacing-unit) * 0.75) var(--im-spacing-unit);
    position: relative;
}
.message-header .delete { /* Custom styling for delete button within message */
    background-color: rgba(10,10,10,.2);
}
.message-header .delete:hover {
    background-color: rgba(10,10,10,.3);
}
.message-body {
    border: none; /* Reset Bulma border */
    border-radius: 0;
    color: var(--im-text);
    padding: var(--im-spacing-unit);
    border-top: 1px solid var(--im-border-light); /* Add separator if header is dark */
}
/* Message colors */
.message.is-primary .message-header { background-color: var(--im-primary); }
.message.is-primary .message-body { border-color: var(--im-primary); border-top-width: 2px; }
/* ... etc for other message colors ... */


/* Example: Tag */
.tag {
    background-color: var(--im-background);
    border-radius: var(--im-radius);
    color: var(--im-text-strong);
    display: inline-flex;
    font-size: 0.8rem;
    height: auto; /* Reset */
    line-height: 1.5;
    padding: calc(var(--im-spacing-unit) * 0.15) calc(var(--im-spacing-unit) * 0.5);
    white-space: nowrap;
    align-items: center;
    justify-content: center;
}
.tag.is-primary { background-color: var(--im-primary); color: var(--im-white); }
/* ... etc for other tag colors ... */
.tag .delete {
    margin-left: calc(var(--im-spacing-unit) * 0.25);
    /* Custom delete styling for tags */
}


/*
--------------------------------------------------------------------------
  5. Utility Class Overrides (if necessary)
--------------------------------------------------------------------------
*/
.has-text-primary { color: var(--im-primary) !important; } /* Use !important if Bulma is too specific */
.has-background-primary { background-color: var(--im-primary) !important; }
/* ... override other .has-text-*, .has-background-*, .is-hidden, .is-sr-only etc. only if Bulma's defaults conflict badly or you need different behavior. */

.im-is-rounded { border-radius: var(--im-radius-large) !important; }
.im-shadow { box-shadow: var(--im-shadow-md) !important; }


/*
--------------------------------------------------------------------------
  End of IM THEME
--------------------------------------------------------------------------
*/