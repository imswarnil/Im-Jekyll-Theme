---
layout: default
---

<div class="container">
  <div class="columns">
    <div class="column is-8">
      <figure class="image is-16by9">
        <iframe
          id="video-player"
          class="has-ratio"
          width="640"
          height="360"
          src="https://www.youtube.com/embed/{{ page.VideoId }}?rel=0&showinfo=0&autohide=1&mute=0&modestbranding=1&autoplay=1"
          frameborder="0"
          allowfullscreen
          loading="lazy"
        ></iframe>
      </figure>

      <div class="content">
        <h1 class="title is-2">{{ page.title }}</h1>
        
        <div class="level">
          <div class="level-left">
            <div class="level-item">
              <i class="fas fa-clock"></i>
              <span>{{ page.duration }}</span>
            </div>
            <div class="level-item">
              <i class="fas fa-eye"></i>
              <span>254K views</span>
            </div>
            <div class="level-item">
              <i class="fas fa-thumbs-up"></i>
              <span>12K likes</span>
            </div>
          </div>
        </div>

        <div class="content">
          <h2 class="title is-4">Description</h2>
          <p>{{ content }}</p>
        </div>

        <div class="buttons">
          <button class="button is-primary is-rounded">Subscribe</button>
        </div>

        {% include utility/comments.html %}
      </div>
    </div>

    <!-- Sidebar -->
    <div class="column is-4">
      <div class="box">
        <div class="content">
          <h2 class="title is-4">Video Timestamps</h2>
          <div>
            {% for timestamp in page.timestamps %}
              {% assign time_parts = timestamp.time | split: ":" %}
              {% assign total_seconds = time_parts[0] | times: 60 | plus: time_parts[1] %}
              
              <div class="notification">
                <a href="#" class="timestamp-link" data-start="{{ total_seconds }}">{{ timestamp.time }} - {{ timestamp.title }}</a>
              </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const videoPlayer = document.getElementById("video-player");
    const timestamps = document.querySelectorAll(".timestamp-link");

    // Start the video autoplay when the page loads
    videoPlayer.src = `https://www.youtube.com/embed/{{ page.VideoId }}?rel=0&showinfo=0&autohide=1&mute=0&modestbranding=1&autoplay=1`;

    // Set up click event for timestamps to change the start time of the video
    timestamps.forEach(timestamp => {
      timestamp.addEventListener("click", function (event) {
        event.preventDefault(); // Prevent default anchor action

        const startTime = this.getAttribute("data-start");

        // Update the iframe src to start the video from the clicked timestamp
        videoPlayer.src = `https://www.youtube.com/embed/{{ page.VideoId }}?start=${startTime}&autoplay=1&rel=0&showinfo=0&autohide=1&mute=0&modestbranding=1`;
      });
    });
  });
</script>
