<!DOCTYPE html>
<html lang="{{ site.lang | default: 'en-US' }}">
{% include im-head.html %}
<style>
  #theme-toggle {
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 1000;
  background: #444;
  color: white;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.2rem;
  cursor: pointer;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
  transition: background 0.3s;

  &:hover {
    background: #666;
  }
}

</style>
<body class="layout-{{ page.layout | default: 'default' }}">
  
  <div class="container">
    {{ content }}
  </div>

  <!-- Dark Mode Toggle Button -->
  <button id="theme-toggle" class="button is-small is-rounded">
    <span id="theme-icon">üåô</span>
  </button>

  {% include site-before-end.html %}

  <!-- Include Dark Mode Script -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
        const themeToggle = document.getElementById("theme-toggle");
        const themeIcon = document.getElementById("theme-icon");
        const body = document.body;
        
        // Check stored theme preference
        const savedTheme = localStorage.getItem("theme");
        
        if (savedTheme) {
            body.classList.toggle("dark-mode", savedTheme === "dark");
            themeIcon.textContent = savedTheme === "dark" ? "‚òÄÔ∏è" : "üåô";
        }

        // Toggle theme on button click
        themeToggle.addEventListener("click", function () {
            const isDarkMode = body.classList.toggle("dark-mode");
            localStorage.setItem("theme", isDarkMode ? "dark" : "light");
            themeIcon.textContent = isDarkMode ? "‚òÄÔ∏è" : "üåô";
        });
    });
  </script>

</body>
</html>
