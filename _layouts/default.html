<!DOCTYPE html>
<html lang="{{ site.lang | default: 'en-US' }}">
{% include im-head.html %}
<body class="layout-{{ page.layout | default: 'default' }}">
  
  <div class="container">
    {{ content }}
  </div>

  <!-- Dark Mode Toggle Button -->
  <button id="theme-toggle" class="button is-small is-rounded">
    <span id="theme-icon">🌙</span>
  </button>

  {% include site-before-end.html %}

  <!-- Include Dark Mode Script -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
        const themeToggle = document.getElementById("theme-toggle");
        const themeIcon = document.getElementById("theme-icon");
        const body = document.body;
        
        // Check stored theme preference
        const savedTheme = localStorage.getItem("theme");
        
        if (savedTheme) {
            body.classList.toggle("dark-mode", savedTheme === "dark");
            themeIcon.textContent = savedTheme === "dark" ? "☀️" : "🌙";
        }

        // Toggle theme on button click
        themeToggle.addEventListener("click", function () {
            const isDarkMode = body.classList.toggle("dark-mode");
            localStorage.setItem("theme", isDarkMode ? "dark" : "light");
            themeIcon.textContent = isDarkMode ? "☀️" : "🌙";
        });
    });
  </script>

</body>
</html>
